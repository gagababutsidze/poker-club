{"ast":null,"code":"let socket = null;\nexport const connectWebSocket = url => {\n  if (!socket || socket.readyState === WebSocket.CLOSED) {\n    socket = new WebSocket(url);\n    console.log(\"WebSocket connected:\", url);\n  }\n  return socket;\n};\nexport const sendMessage = message => {\n  if (socket && socket.readyState === WebSocket.OPEN) {\n    socket.send(JSON.stringify(message));\n  }\n};\nexport const addMessageListener = callback => {\n  if (socket) {\n    socket.onmessage = event => {\n      const data = JSON.parse(event.data);\n      callback(data);\n    };\n  }\n};\nexport const closeWebSocket = () => {\n  if (socket) {\n    socket.close();\n    socket = null;\n  }\n};\nexport const getWebSocket = () => socket;","map":{"version":3,"names":["socket","connectWebSocket","url","readyState","WebSocket","CLOSED","console","log","sendMessage","message","OPEN","send","JSON","stringify","addMessageListener","callback","onmessage","event","data","parse","closeWebSocket","close","getWebSocket"],"sources":["C:/Users/gaga/Desktop/poker-club/src/ws.js"],"sourcesContent":["let socket: WebSocket | null = null;\r\n\r\nexport const connectWebSocket = (url: string): WebSocket => {\r\n    if (!socket || socket.readyState === WebSocket.CLOSED) {\r\n        socket = new WebSocket(url);\r\n        console.log(\"WebSocket connected:\", url);\r\n    }\r\n    return socket;\r\n};\r\n\r\nexport const sendMessage = (message: any): void => {\r\n    if (socket && socket.readyState === WebSocket.OPEN) {\r\n        socket.send(JSON.stringify(message));\r\n    }\r\n};\r\n\r\nexport const addMessageListener = (callback: (data: any) => void): void => {\r\n    if (socket) {\r\n        socket.onmessage = (event) => {\r\n            const data = JSON.parse(event.data);\r\n            callback(data);\r\n        };\r\n    }\r\n};\r\n\r\nexport const closeWebSocket = (): void => {\r\n    if (socket) {\r\n        socket.close();\r\n        socket = null;\r\n    }\r\n};\r\n\r\nexport const getWebSocket = (): WebSocket | null => socket;\r\n"],"mappings":"AAAA,IAAIA,MAAwB,GAAG,IAAI;AAEnC,OAAO,MAAMC,gBAAgB,GAAIC,GAAW,IAAgB;EACxD,IAAI,CAACF,MAAM,IAAIA,MAAM,CAACG,UAAU,KAAKC,SAAS,CAACC,MAAM,EAAE;IACnDL,MAAM,GAAG,IAAII,SAAS,CAACF,GAAG,CAAC;IAC3BI,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEL,GAAG,CAAC;EAC5C;EACA,OAAOF,MAAM;AACjB,CAAC;AAED,OAAO,MAAMQ,WAAW,GAAIC,OAAY,IAAW;EAC/C,IAAIT,MAAM,IAAIA,MAAM,CAACG,UAAU,KAAKC,SAAS,CAACM,IAAI,EAAE;IAChDV,MAAM,CAACW,IAAI,CAACC,IAAI,CAACC,SAAS,CAACJ,OAAO,CAAC,CAAC;EACxC;AACJ,CAAC;AAED,OAAO,MAAMK,kBAAkB,GAAIC,QAA6B,IAAW;EACvE,IAAIf,MAAM,EAAE;IACRA,MAAM,CAACgB,SAAS,GAAIC,KAAK,IAAK;MAC1B,MAAMC,IAAI,GAAGN,IAAI,CAACO,KAAK,CAACF,KAAK,CAACC,IAAI,CAAC;MACnCH,QAAQ,CAACG,IAAI,CAAC;IAClB,CAAC;EACL;AACJ,CAAC;AAED,OAAO,MAAME,cAAc,GAAGA,CAAA,KAAY;EACtC,IAAIpB,MAAM,EAAE;IACRA,MAAM,CAACqB,KAAK,CAAC,CAAC;IACdrB,MAAM,GAAG,IAAI;EACjB;AACJ,CAAC;AAED,OAAO,MAAMsB,YAAY,GAAGA,CAAA,KAAwBtB,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}